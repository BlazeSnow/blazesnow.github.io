---
lastUpdated: 2024-8-25T16:13:00+8:00
titleTemplate: ':title | 部署Bitwarden密码服务 | BlazeSnow帮助网站'
---

# 配置文件

## 创建目录

1. 前往var目录：```cd /var```
2. 创建Bitwarden文件夹：```mkdir bitwarden```
3. 前往Bitwarden文件夹：```cd bitwarden```
4. 创建数据存储目录：```mkdir data```

## 配置Docker-compose

1. 前往Bitwarden文件夹：```cd /var/bitwarden```
2. 创建配置文件：```touch compose.yml```
3. 修改配置文件：```nano compose.yml```

### ```compose.yml```

```yml
services:
  vaultwarden:
    image: vaultwarden/server:latest
    container_name: vaultwarden
    restart: always
    environment:
      # DOMAIN: "https://vaultwarden.example.com"
      SIGNUPS_ALLOWED: "true"
    volumes:
      - ./data:/data
    ports:
      - 11001:80
```

## 配置Nginx

1. 前往配置文件目录：```cd /etc/nginx/sites-available```
2. 修改配置文件：```nano default```
3. 测试可行性：```nginx -t```
4. 重启Nginx：```sudo systemctl restart nginx```

### ```default```

```nginx
server {
    listen 443 ssl;
    server_name _;
    ssl_certificate /root/example.crt;
    ssl_certificate_key /root/example.key;
    location / {
        proxy_pass http://localhost:11001;
    }
}

server {
    listen 80;
    server_name _;
    return 301 https://$host$request_uri;
}
```